# Ασφάλεια στο Web

## Συνέπειες SQL Injection

- Απώλεια εμπιστευτικότητας λόγω γνωστοποίησης ευαίσθητης πληροφορίας
- Παράκαμψη μηχανισμού αυθεντικοποίησης | Σύνδεση χωρίς κωδικό πρόσβασης
- Απώλεια ακεραιότητας
- Πρόβλημα Διαθεσιμότητας

### Μέτρα Προστασίας

- Έλεγχος 
- Escape Characters
- Ντερτεμινιστική λίστα αποδεκτών δεδομένων ή κανόνες για τα δεδομένα που μπορούν να εισαχθούν

## Εσφαλμένη  Διαχείριση Πιστοποιητικών και sessions

- Τα διαπιστευτήρια δεν είναι ασφαλή αν δεν είναι κατακερματισμένα
- Δεν πρέπει να είναι ποτέ εμφανή
- Θα πρέπει να έχουν χρονική λήξη

### Συνέπειες

- Πρόσβαση σε διαχειριστικούς λογαριασμούς
- RIP λειτουργικότητα 💀

## Cross Site Scripting XSS

Αποστολή κακόβουλων δεδομένων εισόδου μορφής κειμένου που εκμεταλλεύονται τις λειτουργίες του browser και η εφαρμογή δεν τα εξετάζει/επικυρώνει

### Διαπίστωση

- Εξέταση/Επικύρωση όλων των δεδομένων χρήστη
- Vulnerability Scanner

### Συνέπειες

- Κλεμμένη ταυτότητα χρήστη
- Προσπέλαση δεδομένων χωρίς άδεια
- Κατασκόπευση συνήθειες χρηστών από browser
- Μεταβολλή ιστοχώρου 

### Αντιμετώπιση

- Επικύρωση δεδομένων εισόδου
- Προσδιορισμός χαρακτήρων που είναι επιτρεπτή Χρήση βιβλιοθηκών καθαρισμού δεδομένων

## Insecure Direct Object Reference

- Πρόβλημα όταν η λογική εφαρμογής απαιτεί διαφορετικά δικαιώματα πρόσβασης στα δεδομένα της εφαρμογής χρήστη
- Πρακτικά ένας χρήστης που έχει ήδη συνδεθεί παραποιεί μια μεταβλήτη μιας άλλης οντότητας και λόγω ελλιπους ασφάλειας αποκτά πρόσβαση μέσω άλλης οντότητας

### Λύση 

- Χρήση ανά χρήστη ή ανά συνεδρία χρήστη αναφορών σε οντότητες της εφαρμογής. Με τη μέθοδο αυτή εμποδίζονται οι επιτιθέμενοι με λ.χ. χρήση αντί των πραγματικών idτων οντοτήτων της βάσης, μεταφράσεων (έμμεσες αναφορές) από την εφαρμογή με σειριακή ή εξειδικευμένη αρίθμηση
- Επιβεβαίωση των δικαιωμάτων χρηστών σχετικά με την πρόσβαση στις οντότητες

##  Security Misconfiguration 

- Διάφορα CMS έρχονται με προκαθορισμένα αναγνωριστικά -> αν δεν αλλάξουν, RIP
- Σελίδες αποσφαλμάτωσης 

### Ανίχνευση

- Έκδοση λογισμικού
- Εγκατεστημένα μη αναγκαία χαρακτηριστικά 
- Εξέταση ύπαρξης προκαθορισμένων λογαριασμών

### Αντεμετώπιση 

- Ενημέρωση
- Ασφαλής Αρχιτεκτονική 
- Περιοδικοί Έλεγχοι 

## Cross Site Request Forgery

Μια εφαρμογή Α επιτρέπει στο χρήστη να υποβάλει URL αιτήματα σε μια εφαρογή Β εάν είναι συνδεδεμένος σε αυτή (Β).

Π.Χ. 

\<imgsrc=‘http://example.com/app/transferFunds?amount=1500&destinationAccount=attackersAcct#’ width="0" height="0" />

### Λύση

- Πρόσθεση σε κάθε HTTP request ένα μη προβλέψιμο token. Αυτά τα tokens μπορούν να αλλάζουν ανά user session ή ακόμα και ανά request.
- Να απαιτείται η επαναυθεντικοποίηση χρήστη ή απόδειξη ότι ο χρήστης είναι κάποιος πραγματικός και όχι ένα bot (π.χ. CAPTCHA)