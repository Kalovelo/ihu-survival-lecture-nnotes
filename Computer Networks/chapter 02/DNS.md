# DNS

Μια κατανεμημένη βάση δεδομένων που έχει υλοποιηθεί σε μια ιεραρχία DNS server  και ένα πρωτόκολλο επιπέδου εφαρμογής που επιτρέπει σε υπολογιστές και name servers να υποβάλουν ερωτήματα στη βάση.   

Παίζει μπάλα με UDP.

## Υπηρεσίες 
1. **Ψευδώνυμα Υπολογιστών** : Αντιστοίχιση 1+ ψευδωνύμων σε υπολογιστές
2. **Ψευδώνυμα Mail Server** : Σαν το παραπάνω, αλλά για e-mail
3. **Κατανομή φόρτου** : Αντιγραφή ιστότοπων σε πολλαπλούς server όπου ο καθένας παίζει σε διαφορετικά τερματικά. Όταν οι πελάτες κάνουν αίτηση, τότε ο σέρβερ αποκρίνεται με όλο το σύνολο διευθύνσεων IP όλων των αντιγράφων, αλλά περιστρέφει τη σειρά των διευθύνσεων σε κάθε απάντηση.

## Δομή 

|      Ιεραρχία 3 τύπων       |
| :-------------------------: |
|      root DNS servers       |
| top level DNS servers (TLD) |
|  authoritative DNS servers  |

- **root DNS servers**: Παρέχουν τις IP των TLD server.s
- **TLD servers**: Υπεύθυνοι για τομείς ανωτάτου επιπέδου όπως (.com,.gr). Παρέχουν τις IP των authoritative servers.
- **Authoritative DNS servers**: Περιέχει όλες τις εγγραφής ονομάτων για αντιστοίχιση με IP υπολογιστών.
- **Local DNS server**: Δεν ανήκει κατά κύριο λόγο στην ιεραρχία. Κάθε ISP έχει ένα τοπικό server ως default. Όταν ένας Η/Υ συνδέεται σε ένα ISP, ο ISP παρέχει στον Η/Υ τις IP των local DNS server. Λειτουργεί ως πληρεξούσιος, προωθώντας το ερώτημα στους DNS server ιεραρχικά.

## Caching 

Μέσα στην ιεραρχία μπορεί να χρησιμοποιηθεί cache για την ελαχιστοποίηση ανακλήσεων.

## Εγγραφές και τύποι DNS

(Όνομα, Τιμή, Τύπος, TTL)

- Τα πρώτα 2 αντιστοιχούν στο ζευγάρι Όνομα - IP
- Ο τύπος αναφέρεται στον τύπο του στοιχείου
- TTL: Time to Live. Χρόνος Cache.

| Τύπος | Επεξήγηση                                                                                                                   |
| :---- | :-------------------------------------------------------------------------------------------------------------------------- |
| A     | Πρότυπη αντιστοίχιση, δηλαδή από όνομα PC σε IP PC                                                                          |
| NS    | Το όνομα είναι **τομέας** και η τιμή είναι IP υπολογιστή **authoritative DNS server**. Χρήση για δρομολόγηση DNS ερωτημάτων |
| MX    | Η τιμή αναφέρεται στο κανονικό όνομα mail server.                                                                           |
| CNAME | φ Η τιμή είναι κανονικό όνομα Η/Υ για ψευδώνυμο υπολογιστή *Όνομα*. Παρέχει στους ερωτώντες Η/Υ το κανονικό όνομα ενός Η/Υ. |

## Εισαγωγή εγγραφών στη ΒΔ DNS

Αρχικά καταχωρούμε το domain name σε ένα αρχειοφύλακα (registrar). Αυτός είναι μια εμπορική οντότητα που επιβεβαίωνει τη μοναδικότητα του domain name. Εισάγει το όνομα στη ΒΔ και παίρνει μια μικρή αμοιβή για τις υπηρεσίες του.

