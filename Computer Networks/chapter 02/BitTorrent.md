# BitTorrent

- Δημοφιλές πρωτόκολλο **P2P για διανομή αρχείων**.
- Οι ομότιμοι κατεβάζουν **τεμάχια (chunks)** ίσου μεγέθους αρχείου ο ένας στον άλλο με τυπικό μέγεθος 256 kb.
- Όταν ένας φρέσκος συνδέεται σε ένα τόρεντ, τότε κατεβάζει τεμάχια. Στη συνέχεια, μόλις αποκτήσει μερικά, αρχίζει **παράλληλα** να στέλνει.
- Κάθε torrent έχει ένα κόμβο υποδομής που καλείται **tracker**, ο οποίος **παρακολουθεί τους ομότιμους** και τους αντιστοιχίζει για το μοίρασμα τεμαχίων.
- Ανά πάσα στιγμή, ένας ομότιμος μπορεί να αφήσει το τορεντάκι και να ξαναμπεί όποτε θελήσει.

## Εκλεκτική Μοιρασιά 

Κάθε ομότιμος, δεν στέλνει σε όλους τους υπόλοιπους τεμάχια με τον ίδιο ρυθμό.  

### Rarest First
Αρχικά χρησιμοποιείται μια τεχνική που λέγεται **rarest first**.Κάθε ομότιμος ζητάει τα σπανιότερα τεμάχια αρχείου, αυτά δηλαδή που τα μοιράζουν οι **λιγότεροι ομότιμοι**. Έτσι, **εξισώνεται** ο αριθμός των αντιγράφων κάθε τεαχίων μέσα στο τόρεντ.

### Το Στραγκάλισμα 
Κάθε ομότιμος δίνει προτεραίοτητα στους ομότιμους που παρέχουν δεδομένα με τον **υψηλότερο ρυθμό**. Κάθε στιγμή μετρά το ρυθμό που στέλνουν οι γείτονες της καθορίζοντας τους κορυφαίους 4. Έτσι, η Αλίκη, παίζει κατά κύριο λόγο μπαλίτσα με αυτούς τους 4.

Κάθε 10 δευτερόλεπτα, η Αλίκη υπολογίζει εκ νέου τους ρυθμούς και αν κάτι έχει αλλάξει, τροποποιεί την Αγία 4αδα. Τα μέλη της Αγίας 4αδας, λέγονται **Μη στραγγαλισμένοι (unchocked) 😉**. 

Κάθε 30 δευτερόλεπτα, επιλέγεται τυχαία ένας πρόσθετος γειτονάκος και του στέλνει τεμάχια. Αυτός λέγεται **Αισιόδοξα μη σταγγαλισμένος 😜**. Έτσι, υπάρχει περίπτωση να αναβαθμιστεί ο η Αλίκη ως Άγιος για τον άλλο. Αν ο άλλος στέλνει με αρκετά υψηλό ρυθμό, μπορεί να γίνει κι αυτός Άγιος για την Αλίκη.

Με άλλα λόγια, κάθε 30 δευτερόλεπτα, αναζητούν το νέο βέλτιστο μέλος για την Αγία 4αδα της Αλίκης. Έτσι, αυτοί που στέλνουν με παρόμοιους ρυθμούς τείνουν να βρίσκονται μεταξύ τους.

Οι υπόλοιποι, οι **Στραγκαλισένοι 😝**, δεν λαμβάνουν τεμάχια από την Αλίκη...