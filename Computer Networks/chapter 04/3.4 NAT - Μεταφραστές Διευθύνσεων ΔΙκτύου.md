# NAT - Μεταφραστές Διευθύνσεων ΔΙκτύου

>σελίδες 345-347

Όταν ένας οργανισμός έχει συσκευές περισσότερες από τις διαθέσιμες διευθύνσεις IP που του έχουν δοθεί, τότε έχει πρόβλημα.

Για αυτό έχει σκάσει το NAT!!!

Ένας δρομολογητής με δυνατότητες NAT, βρίσκεται μέσα στον οργανισμό και έχει μια διεπαφή που είναι τμήμα του οικιακού δικτύου.

❗Εδώ υπάρχει το **ιδιωτικό δίκτυο (private network)** του οποίου οι διευθύνσεις έχουν σημασία μόνο γις τις συσκευές μέσα σε αυτό το δίκτυο.

Ο δρομολογητής NAT, **δεν μοιάζει με δρομολογητή** για τον υπόλοιπο κόσμο. Για τον εξωτερικό κόσμο, συμπεριφέρεται ως **1 συσκευή με μια 1 διεύθυνση IP**. Με λίγα λόγια, κρύβει τις δυνατότητες οικιακού δικτύου από τον έξω κόσμο (άτιμος!). Σε αυτό, τον βοηθάει το DHCP.

Η μόντα που χρησιμοποιεί ο δρομολογητής ΝΑΤ, είναι η διατήρηση ενός **πίνακα μετάφρασης NAT (NAT translation Table)**. Αυτός ο πινακάκος περιλαμβάνει **αριθμούς θυρών** που αντιστοιχίζονται σε διευθύνσεις IP.

Όταν μια εσωτερική συσκευή με διεύθυνση 10.0.0.1 θέλει στέλνει ένα αίτημα σε μια ιστοσελίδα που ο σέρβερ έχει διεύθυνση 128.118.40.186, αναγράφει και τον αριθμό θύρας προέλευσης (π.χ. 3345) και στέλνει το δεδομενόγραμμα μέσα στο LAN. Ο δρομολογητής ΝΑΤ, δέχεται το δεδομενόγραμμα, **παράγει ένα νέο αριθμό θύρας προέλευσης**, έστω 5001 για το δεδομενόγραμμα και έπειτα αντικαθιστά τον αριθμό θύρας προέλευσης με αυτόν, δηλαδή 3345 -> 5001. Αντικαθιστά επίστης, τη διεύθυνση προέλευσης με αυτή του υποδικτύου. 

Έτσι, κάθε φορά που γίνεται επικοινωνία, οι διευθύνσεις και οι θύρες αντιστοιχίζονται στον πίνακα μετάφρασης NAT. 

Με λίγα λόγια, ο δρομολογητής ΝΑΤ χρησιμοποιείται ως μεσάζοντας.

> Υπάρχουν κάποιοι !πληβείοι! οι οποίοι εναντιώνονται στο NAT, λέγοντας πως αυτοί οι αριθμοί θυρών θα έπρεπε να χρησιμοποιούνται από διεργασίες.