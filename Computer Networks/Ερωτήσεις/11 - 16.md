## 11
Αναφέρατε και περιγράψτε εν συντομία τις υπηρεσίες που περιλαμβάνει το μοντέλο υπηρεσιών TCP

> - Συνδεσμική Υπηρεσία
>   - Server & Client πρέπει να δώσουν το χέρι πριν αρχίσουν να ανταλλάσσουν μηνύματα
> - Αξιόπιστη μεταφορά δεδομένων
>   - Παράδοση όλων των δεδομένων και με σωστή σειρά
> - Αμφίδρομη Σύνδεση
>   - Ταυτόχρονη αποστολή και λήψη μηνυμάτων
> - Μηχανισμός Έλεγχος Συμφόρησης
>   - Παραμετροποίηση διεργασιών αποστολής σε περιπτώσεις συμφόρησης 

## 12
Αναφέρατε μια σημαντική διαφορά και μια σημαντική ομοιότητα των πρωτοκόλλων SMTP & HTTP

> 
> |            Ομοιότητα            |                                                       Διαφορά                                                        |
> | :-----------------------------: | :------------------------------------------------------------------------------------------------------------------: |
> | Μεταφέρει αρχεία από Η/Υ σε Η/Υ |                        SMTP: Πρωτόκολλο **Προώθησης** <br/> HTTP: Πρωτόκολλο **Προσέλκυσης**                         |
> |     Συνδέσεις: Παραμένουσες     |                 SMTP: περιορισμός κωδικοποίησης Μηνύματα σε ASCII 7 bit <br/> HTTP: Χωρίς περιορισμό                 |
> |                                 | SMTP: Τοποθέτηση όλων των αντικειμένων σε ένα μήνυμα <br/>HTTP: Ενθυλάκωση κάθε αντικειμένου μέσα σε δικό του μήνυμα |



## 13
Τι κάνει η υπηρεσία ελέγχου συμφόρησης στο TCP/IP;  
Τι προσπαθεί να πετύχει;  
Αναφέρατε ένα πρωτόκολλο που παρέχει υπηρεσία ελέγχου συμφόρησης και μια που δεν έχει.

> - Πρόβλημα αποστολής υψηλού ρυθμού
> - Διαμοιρασμός εύρους ζώνης
> 
> Συμφόρηση: Απώλεια τμήματος επιπέδου μεταφοράς εξαιτίας πηγών που προσπαθούν να στείλουν δεδομένα με πολύ υψηλό ρυθμό.  
> Έλεγχος συμφόρησης στο TCP/IP: Παραμετροποίηση διεργασιών αποστολής σε περιπτώσεις συμφόρησης. Προσπαθεί να δώσει σε κάθε σύνδεση που διασχίζει μια ζεύξη δικτύου, ίσο εύρος ζώνης αυτής της ζεύξης.
> Πρωτόκολλο που έχει: TCP  
> Πρωτόκολλο που δεν έχει: UDP  

## 14
Ποιος είναι ο χρόνος διαδρομής στο TCP και ποιος ο χρόνος αναμετάδοσης;
> - Αποστολή μέχρι επιβεβαίωση
> - Επαναποστολή μέχρι επιβεβαίωση  
> 
>Χρόνος διαδρομής: Ο χρόνος από τη στιγμή που το τμήμα TCP περάσει από το επιπέδου μεταφοράς στο επίπεδο δικτύου αποστολέα (εκκινήσει ο χρονομετρητής), να φτάσει στον παραλήπτη και να ληφθεί από τον αποστολέα επιβεβαίωση.  
> Χρόνος αναμετάδοσης: Όταν ένα πακέτο λαμβάνεται λανθασμένα ή καθόλου, τότε ο αποστολέας το επαναμεταδίδει. Στο TCP, αυτό συμβαίνει όταν ο χρονομετρητής λήγει για πρώτη φορά σε μια αποστολή. Ο χρόνος αναμετάδοσης είναι ο χρόνος που απαιτείται από την αποστολή μιας επαναμετάδοσης 
> πακέτου μέχρι να ληφθεί η επιβεβαίωση του.


## 15
Πως λειτουργεί η αργή εκκίνηση (slow start) και πως   η αποφυγή συμφόρησης;

Αργή Εκκίνηση:  

> - Διπλασιασμός cwnd
> - Λήξη χρόνου και ssthresh = cwnd/2  
> 
> Όταν ξεκινά μια σύνδεση TCP, το cwnd παίρνει την τιμή **1 MSS**. **Κάθε φορά που επιβεβαιώνεται** ένα τμήμα, τότε αυξάνεται το cwnd κατά 1 MSS. Αυτό έχει ως αποτέλεσμα να **διπλασιάζεται** το cwnd σε κάθε επιτυχές RTT.  
Αν υπάρξει **λήξη χρόνου**, τότε το cwnd = 1 και αρχίζει τη διεργασία αργής εκκίνησης **εκ νέου**.Επίσης, θέτει μια νέα μεταβλητή **ssthresh** . Η ssthresh είναι το **κατώφλι της αργής εκκίνησης**. Η τιμή που θέτεται **είναι cwnd/2**.  
Ο άλλος τρόπος ανίχνευσης συμφόρησης, είναι όταν μετά από αυξήσεις του cwnd, το cwnd φτάσει την **τιμή του ssthresh**( είναι επικίνδυνος η εκθετική αύξηση λόγω διπλασιασμού σε κάθε RTT). Όταν συμβεί αυτό, τότε εισερχόμαστε στην κατάσταση Αποφυγή Συμφόρησης.  
Τελευταίος τρόπος, αν **ανιχνευτούν 3 διπλότυπα ACK**, τότε εκτελείται μια **ταχεία αναμετάδοση** και εισέρχεται στην ταχεία ανάκαμψη.


Αποφυγή Συμφόρησης:  

> - Ισχύει cwnd>= ssthresh
> - CWND++  
> - 3 διπλότυπα ACK? cwnd/2 και ssthresh = cwnd/2
> 
> Όταν γίνει εισαγωγή σε αυτή την κατάσταση, τότε cwnd >= ssthresh. Τότε, αντι να διπλασιάζεται το cwnd σε κάθε RTT, **αυξάνεται κατά 1 MSS σε κάθε RTT**. Αυτό συνεχίζεται μέχρι να συμβεί μια λήξη χρόνου. Τότε, το ssthresh θα πάρει μια νέα τιμή και έτσι θα γίνει εισαγωγή στην αργή εκκίνηση.  
Σε περίπτωση τριάδας διπλότυπου ACK, τότε το TCP **μειώνει στο μισό το cwnd** (προσθέτοντας 3 MSS) και κάνει το ssthresh να είναι cwnd/2 όταν λήφθηκε η τριάδα. Έπειτα εισέρχεται στην ταχεία ανάκαμψη.



> - cwnd++ με κάθε διπλότυπο ACK  
> 
> Εδώ το cwnd αυξάνεται κατά **1 MSS** για κάθε **διπλότυπο** ACK που λαμβάνεται για το ελλείπον τμήμα. Όταν φτάσει ένα ACK για το ελλείπον τμήμα, τότε εισέρχεται στην αποφυγή συμφόρησης αφού μειώσει το cwnd.  
Σε **λήξη χρόνου** τότε εισέρχεται στην **αργή εκκίνηση** αφού εκτελέσει τις ίδιες ενέργειες. Το cwnd τίθεται 1 και το ssthresh cwnd/2 πριν τη μοναδοποίηση του cwnd.

## 16

Ποια είναι η λειτουργία του πεδίου ΠΡΩΤΟΚΟΛΛΟ στην κεφαλίδα δεδομενογράμματος IP?

> Χρησιμοποιείται μόνο από τον προορισμό. Δηλώνει το **πρωτόκολλο επιπέδου μεταφοράς**. Είναι η κόλλα που συνδέει τα επίπεδα δικτύου και μεταφοράς.
